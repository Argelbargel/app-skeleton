plugins {
    id("base")
    id("com.github.node-gradle.node").version("2.2.4")
}

group("com.github.argelbargel")



ext {
    def os = org.gradle.nativeplatform.platform.internal.DefaultNativePlatform.currentOperatingSystem
    osName = "unknown"
    if (os.linux) {
        osName = "linux"
    } else if (os.windows) {
        osName = "windows"
    }

    nodeVersion = "14.15.4"
    cordovaVersion = "10.0.0"
    
    androidSdkRootDir = "${gradle.gradleUserHomeDir}/android-sdk"
    androidSdkCommandlineToolsVersion = "6858069_latest"
    androidSdkSystemImage = "system-images;android-29;google_apis;x86_64"
    androidSdkPackages = [ 
        "build-tools;29.0.2", 
        "platform-tools", 
        "platforms;android-29", 
        "sources;android-29",
        androidSdkSystemImage
    ]
    androidSdkAvdDevice = "pixel_3"

    nodePluginWorkDir = file("${gradle.gradleUserHomeDir}/nodejs")
    nodeJsInstallDir = "${nodePluginWorkDir}/node-v${nodeVersion}-${osName}"
}

apply from: "gradle/cordova.gradle" 
apply from: "gradle/android-sdk.gradle"